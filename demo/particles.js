!function(){function t(t,i,e,n){this.x=t,this.y=i,this.cvs=document.getElementById(e),this.img=n,this.w=this.img.width,this.h=this.img.height,this.pars=[],this.ctx=cvs.getContext("2d"),this.ctx.drawImage(this.img,t,i),this.calculate(this.ctx.getImageData(t,i,this.w,this.h))}window.requestAnimFrame=function(t){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),t.prototype.calculate=function(t){for(var i=t.data,e=this.w,n=this.h,s=[],a=e-1;a>=0;a--)for(var r=n-1;r>=0;r--)for(var h=0;h<=3;h++)3==h&&i[e*a*4+4*r+h]>0&&Math.random()>.1&&s.push({fillStyle:"rgba("+i[e*a*4+4*r+0]+","+i[e*a*4+4*r+1]+","+i[e*a*4+4*r+2]+","+i[e*a*4+4*r+h]+")",x:a+this.x,y:r+this.y,mx:200,my:0});this.pars=s},t.prototype.draw=function(){var t=this.pars,i=!0,e=this.ctx,n=this.cvs;e.clearRect(0,0,n.width,n.height);for(var s=t.length-1;s>=0;s--){if((t[s].mx-t[s].x)*(t[s].mx-t[s].x)>1||(t[s].my-t[s].y)*(t[s].my-t[s].y)>1){var a=parseInt(100*Math.random())+1;t[s].mx+=(t[s].x-t[s].mx)/a,t[s].my+=(t[s].y-t[s].my)/a,i=!1}e.fillStyle=t[s].fillStyle,e.fillRect(t[s].mx,t[s].my,1,1)}i||requestAnimFrame(function(){this.draw()}.bind(this))},t.prototype.render=function(){requestAnimFrame(function(){this.draw()}.bind(this))},window.Particles=t}();